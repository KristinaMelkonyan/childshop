{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≥–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è -->
<div class="simple-hero">
    <div class="container text-center">
        <h1>–ù–∞—à –ö–∞—Ç–∞–ª–æ–≥</h1>
        <p>–ù–∞–π–¥–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω—É—é –∏–≥—Ä—É—à–∫—É –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞</p>
    </div>
</div>

<div class="container my-4">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="row mb-4">
        <div class="col-12 text-center">
            <h2 class="mb-2">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</h2>
            <p class="text-muted">–í—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏ - –≤—ã–±–∏—Ä–∞–π—Ç–µ —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é!</p>
        </div>
    </div>

    <div class="row">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
        <div class="col-lg-3 col-md-4 mb-4">
            <div class="filter-sidebar">
                <h5 class="filter-title">–§–∏–ª—å—Ç—Ä—ã</h5>
                
                <!-- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div class="filter-group">
                    <label class="filter-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select class="form-select filter-select" id="categoryFilter">
                        <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                        <option value="plush">üß∏ –ü–ª—é—à–µ–≤—ã–µ</option>
                        <option value="constructor">üß± –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã</option>
                        <option value="doll">üëß –ö—É–∫–ª—ã</option>
                        <option value="educational">üéì –†–∞–∑–≤–∏–≤–∞—é—â–∏–µ</option>
                        <option value="creative">üé® –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ</option>
                        <option value="puzzle">üß© –ì–æ–ª–æ–≤–æ–ª–æ–º–∫–∏</option>
                    </select>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä –ø–æ —Ü–µ–Ω–µ -->
                <div class="filter-group">
                    <label class="filter-label">–¶–µ–Ω–∞, ‚ÇΩ</label>
                    <div class="price-inputs">
                        <input type="number" class="form-control price-input" id="minPrice" placeholder="–û—Ç" min="0">
                        <span class="price-separator">‚Äî</span>
                        <input type="number" class="form-control price-input" id="maxPrice" placeholder="–î–æ" min="0">
                    </div>
                    <div class="price-range-labels">
                        <small class="text-muted">–î–∏–∞–ø–∞–∑–æ–Ω: 0 - {{ max_price }} ‚ÇΩ</small>
                    </div>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä –ø–æ –≥–æ–¥—É -->
                <div class="filter-group">
                    <label class="filter-label">–ì–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</label>
                    <select class="form-select filter-select" id="yearFilter">
                        <option value="">–í—Å–µ –≥–æ–¥—ã</option>
                        {% for year in available_years %}
                        <option value="{{ year }}">{{ year }}</option>
                        {% endfor %}
                    </select>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
                <div class="filter-actions">
                    <button class="btn primary-btn w-100 mb-2" id="applyFilters">
                        –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                    </button>
                    <button class="btn btn-outline-secondary w-100" id="resetFilters">
                        –°–±—Ä–æ—Å–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="col-lg-9 col-md-8">
            <!-- –ü–∞–Ω–µ–ª—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –ø–æ–∏—Å–∫–∞ -->
            <div class="row mb-4 g-2">
                <div class="col-md-6 col-8">
                    <input type="text" class="form-control" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." id="searchInput">
                </div>
                <div class="col-md-3 col-4">
                    <select class="form-select" id="sortBy">
                        <option value="name_asc">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–ê-–Ø)</option>
                        <option value="name_desc">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–Ø-–ê)</option>
                        <option value="price_asc">–ü–æ —Ü–µ–Ω–µ (‚Üë –¥–µ—à–µ–≤—ã–µ)</option>
                        <option value="price_desc">–ü–æ —Ü–µ–Ω–µ (‚Üì –¥–æ—Ä–æ–≥–∏–µ)</option>
                        <option value="year_asc">–ü–æ –≥–æ–¥—É (‚Üë —Å—Ç–∞—Ä—ã–µ)</option>
                        <option value="year_desc">–ü–æ –≥–æ–¥—É (‚Üì –Ω–æ–≤—ã–µ)</option>
                    </select>
                </div>
                <div class="col-md-3 d-none d-md-block">
                    <div class="results-count">
                        –ù–∞–π–¥–µ–Ω–æ: <span id="productsCount">{{ products|length }}</span>
                    </div>
                </div>
            </div>

            <!-- –°—á–µ—Ç—á–∏–∫ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
            <div class="row mb-3 d-md-none">
                <div class="col-12">
                    <div class="results-count-mobile">
                        –ù–∞–π–¥–µ–Ω–æ: <span id="productsCountMobile">{{ products|length }}</span> —Ç–æ–≤–∞—Ä–æ–≤
                    </div>
                </div>
            </div>

            <!-- –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
            <div class="row g-3" id="productsContainer">
                {% for product in products %}
                <div class="col-xl-4 col-lg-6 col-md-6 product-card" 
                     data-category="{{ product.category }}"
                     data-price="{{ product.price }}"
                     data-name="{{ product.name|lower }}"
                     data-year="{{ product.year|default:0 }}"
                     data-popular="{{ forloop.counter }}">
                    <!-- –í—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–µ–ø–µ—Ä—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ -->
                    <a href="{% url 'product_detail' product.id %}" class="card-link">
                        <div class="card h-100 product-card-simple">
                            <!-- –ë–µ–π–¥–∂ –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ -->
                            {% if forloop.counter <= 3 %}
                            <div class="position-absolute top-0 start-0 m-2">
                                <span class="badge popular-badge">‚òÖ –ü–æ–ø—É–ª—è—Ä–Ω—ã–π</span>
                            </div>
                            {% endif %}

                            <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
                            <div class="card-img-container">
                                {% if product.image %}
                                <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
                                {% else %}
                                <img src="{% static 'images/no-image.jpg' %}" class="card-img-top" alt="–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è">
                                {% endif %}
                            </div>

                            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                            <div class="card-body d-flex flex-column">
                                <small class="text-muted category-text">{{ product.get_category_display }}</small>
                                {% if product.model %}
                                <small class="text-muted d-block">–ú–æ–¥–µ–ª—å: {{ product.model }}</small>
                                {% endif %}
                                <h6 class="card-title">{{ product.name }}</h6>
                                <br>
                                <small class="text-muted">–°—Ç—Ä–∞–Ω–∞: {{ product.country }}</small>
                                <br>
                                <div class="mb-2">
                                    <span class="text-warning">‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÜ</span>
                                    <small class="text-muted">(24)</small>
                                </div>

                                <div class="mt-auto">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <strong class="price">{{ product.price }} ‚ÇΩ</strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>

                    <!-- –ö–Ω–æ–ø–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É -->
                    <button class="btn cart-btn-full w-100 mt-2" onclick="addToCart('{{ product.id }}', this)">
                        üõí –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                    </button>
                </div>
                {% empty %}
                <!-- –ü—É—Å—Ç–æ–π –∫–∞—Ç–∞–ª–æ–≥ -->
                <div class="col-12 text-center py-5">
                    <div class="text-muted">
                        <h4>üì¶ –¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h4>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</p>
                        <button class="btn primary-btn" id="resetFiltersEmpty">
                            –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
                        </button>
                    </div>
                </div>
                {% endfor %}
            </div>

            <!-- –ü—Ä–æ—Å—Ç–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è -->
            <div class="row mt-4">
                <div class="col-12">
                    <nav>
                        <ul class="pagination justify-content-center">
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item"><a class="page-link" href="#">‚Üí</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
function addToCart(productId, buttonElement) {
    fetch(`/cart/add/${productId}/`, {
        method: 'POST',
        headers: {
            'X-CSRFToken': getCookie('csrftoken'),
            'X-Requested-With': 'XMLHttpRequest'
        }
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            // –í—Ä–µ–º–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫–µ
            const originalText = buttonElement.innerHTML;
            buttonElement.innerHTML = '‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ!';
            buttonElement.style.background = '#28a745';
            buttonElement.style.color = 'white';
            
            setTimeout(() => {
                buttonElement.innerHTML = originalText;
                buttonElement.style.background = '';
                buttonElement.style.color = '';
            }, 2000);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–æ—Ä–∑–∏–Ω—ã
            updateCartBadge(data.cart_total);
        } else {
            alert(data.message);
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É');
    });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
function updateCartBadge(count) {
    const cartBadge = document.querySelector('.badge.bg-danger');
    const cartLink = document.querySelector('a[href="/cart/"]');
    
    if (cartBadge) {
        if (count > 0) {
            cartBadge.textContent = count;
            cartBadge.style.display = 'inline';
        } else {
            cartBadge.style.display = 'none';
        }
    } else if (count > 0 && cartLink) {
        const newBadge = document.createElement('span');
        newBadge.className = 'position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger';
        newBadge.textContent = count;
        newBadge.style.display = 'inline';
        cartLink.appendChild(newBadge);
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è CSRF —Ç–æ–∫–µ–Ω–∞
function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}

document.addEventListener('DOMContentLoaded', function() {
    // –≠–ª–µ–º–µ–Ω—Ç—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤
    const categoryFilter = document.getElementById('categoryFilter');
    const yearFilter = document.getElementById('yearFilter');
    const minPriceInput = document.getElementById('minPrice');
    const maxPriceInput = document.getElementById('maxPrice');
    const searchInput = document.getElementById('searchInput');
    const sortBy = document.getElementById('sortBy');
    const applyFilters = document.getElementById('applyFilters');
    const resetFilters = document.getElementById('resetFilters');
    const resetFiltersEmpty = document.getElementById('resetFiltersEmpty');
    
    const productsContainer = document.getElementById('productsContainer');
    const productsCount = document.getElementById('productsCount');
    const productsCountMobile = document.getElementById('productsCountMobile');
    const productCards = productsContainer.querySelectorAll('.product-card');

    function applyAllFilters() {
        const category = categoryFilter.value;
        const year = yearFilter.value;
        const minPrice = minPriceInput.value ? parseInt(minPriceInput.value) : 0;
        const maxPrice = maxPriceInput.value ? parseInt(maxPriceInput.value) : Infinity;
        const searchText = searchInput.value.toLowerCase();
        const sortValue = sortBy.value;

        let visibleProducts = [];
        let visibleCount = 0;

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
        productCards.forEach(card => {
            const categoryMatch = !category || card.dataset.category === category;
            const yearMatch = !year || card.dataset.year === year;
            const price = parseFloat(card.dataset.price);
            const priceMatch = price >= minPrice && price <= maxPrice;
            const searchMatch = !searchText || card.dataset.name.includes(searchText);
            
            if (categoryMatch && yearMatch && priceMatch && searchMatch) {
                card.style.display = 'block';
                visibleProducts.push(card);
                visibleCount++;
            } else {
                card.style.display = 'none';
            }
        });

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤
        productsCount.textContent = visibleCount;
        productsCountMobile.textContent = visibleCount;

        // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
        visibleProducts.sort((a, b) => {
            switch(sortValue) {
                case 'name_asc':
                    return a.dataset.name.localeCompare(b.dataset.name);
                case 'name_desc':
                    return b.dataset.name.localeCompare(a.dataset.name);
                case 'price_asc':
                    return parseFloat(a.dataset.price) - parseFloat(b.dataset.price);
                case 'price_desc':
                    return parseFloat(b.dataset.price) - parseFloat(a.dataset.price);
                case 'year_asc':
                    return parseInt(a.dataset.year) - parseInt(b.dataset.year);
                case 'year_desc':
                    return parseInt(b.dataset.year) - parseInt(a.dataset.year);
                default:
                    return 0;
            }
        });

        // –ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        visibleProducts.forEach(card => {
            productsContainer.appendChild(card);
        });
    }

    // –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤
    function resetAllFilters() {
        categoryFilter.value = '';
        yearFilter.value = '';
        minPriceInput.value = '';
        maxPriceInput.value = '';
        searchInput.value = '';
        sortBy.value = 'name_asc';
        applyAllFilters();
    }

    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω—ã
    function validatePriceInputs() {
        const minPrice = minPriceInput.value ? parseInt(minPriceInput.value) : 0;
        const maxPrice = maxPriceInput.value ? parseInt(maxPriceInput.value) : Infinity;
        
        if (minPrice > maxPrice && maxPriceInput.value) {
            maxPriceInput.value = minPrice;
        }
    }

    // –°–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π
    applyFilters.addEventListener('click', applyAllFilters);
    resetFilters.addEventListener('click', resetAllFilters);
    if (resetFiltersEmpty) {
        resetFiltersEmpty.addEventListener('click', resetAllFilters);
    }
    
    sortBy.addEventListener('change', applyAllFilters);
    searchInput.addEventListener('input', applyAllFilters);
    
    minPriceInput.addEventListener('input', validatePriceInputs);
    maxPriceInput.addEventListener('input', validatePriceInputs);

    // –ê–≤—Ç–æ–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –≥–æ–¥–∞
    categoryFilter.addEventListener('change', applyAllFilters);
    yearFilter.addEventListener('change', applyAllFilters);

    // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
    applyAllFilters();
});
</script>

<style>
    /* –¢–µ–ø–ª—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –¥–µ—Ç—Å–∫–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ */
    :root {
        --primary-color: #ff7eb9;
        --secondary-color: #7afcff;
        --accent-color: #ff65a3;
        --background-color: #fff5f7;
        --text-color: #333;
    }

    /* –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≥–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è */
    .simple-hero {
        background: linear-gradient(135deg, #ff7eb9 0%, #7afcff 100%);
        padding: 60px 0;
        margin-bottom: 2rem;
        color: white;
    }

    .simple-hero h1 {
        font-weight: 600;
        margin-bottom: 1rem;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }

    .simple-hero p {
        font-size: 1.1rem;
        opacity: 0.9;
    }

    /* –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ */
    .filter-sidebar {
        background: white;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        border: 1px solid #ffe6ee;
    }

    .filter-title {
        color: #ff7eb9;
        font-weight: 600;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #ffe6ee;
    }

    .filter-group {
        margin-bottom: 1.5rem;
    }

    .filter-label {
        font-weight: 600;
        color: #495057;
        margin-bottom: 0.5rem;
        display: block;
    }

    .filter-select {
        border: 1px solid #e9ecef;
        border-radius: 8px;
        padding: 0.5rem;
    }

    .filter-select:focus {
        border-color: #ff7eb9;
        box-shadow: 0 0 0 0.2rem rgba(255, 126, 185, 0.25);
    }

    /* –ü–æ–ª—è –≤–≤–æ–¥–∞ —Ü–µ–Ω—ã */
    .price-inputs {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .price-input {
        flex: 1;
        text-align: center;
        padding: 0.5rem;
    }

    .price-separator {
        color: #6c757d;
        font-weight: 600;
    }

    .price-range-labels {
        margin-top: 0.5rem;
        text-align: center;
    }

    /* –ö–Ω–æ–ø–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ */
    .filter-actions {
        margin-top: 2rem;
    }

    /* –°—á–µ—Ç—á–∏–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ */
    .results-count {
        background: #f8f9fa;
        padding: 0.75rem;
        border-radius: 8px;
        text-align: center;
        font-weight: 600;
        color: #495057;
    }

    .results-count-mobile {
        background: #f8f9fa;
        padding: 0.5rem;
        border-radius: 8px;
        text-align: center;
        font-size: 0.9rem;
        color: #495057;
    }

    /* –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ */
    .product-card-simple {
        border: 1px solid #ffe6ee;
        border-radius: 12px;
        transition: all 0.3s ease;
        background: white;
        position: relative;
        cursor: pointer;
    }

    .product-card-simple:hover {
        border-color: #ff7eb9;
        box-shadow: 0 5px 15px rgba(255, 126, 185, 0.2);
        transform: translateY(-3px);
    }

    .card-link {
        text-decoration: none;
        color: inherit;
        display: block;
    }

    .card-link:hover {
        color: inherit;
        text-decoration: none;
    }

    .card-img-container {
        height: 200px;
        overflow: hidden;
        border-radius: 12px 12px 0 0;
        position: relative;
    }

    .card-img-top {
        height: 100%;
        width: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .product-card-simple:hover .card-img-top {
        transform: scale(1.05);
    }

    .card-body {
        padding: 1.25rem;
    }

    .card-title {
        font-weight: 600;
        margin: 0.5rem 0;
        line-height: 1.3;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        color: #333;
    }

    .category-text {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* –¶–µ–Ω–∞ */
    .price {
        color: #ff7eb9;
        font-size: 1.1rem;
    }

    /* –ö–Ω–æ–ø–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
    .cart-btn-full {
        background: #ff7eb9;
        border: none;
        color: white;
        padding: 0.75rem;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
        margin-top: 0.5rem;
    }

    .cart-btn-full:hover {
        background: #ff65a3;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 126, 185, 0.3);
    }

    .primary-btn {
        background: #ff7eb9;
        border: none;
        color: white;
        padding: 0.5rem 1.5rem;
        border-radius: 6px;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .primary-btn:hover {
        background: #ff65a3;
        color: white;
        transform: translateY(-2px);
    }

    /* –ë–µ–π–¥–∂ –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ */
    .popular-badge {
        background: linear-gradient(45deg, #ff7eb9, #ff65a3);
        border: none;
        font-size: 0.7rem;
        padding: 0.3rem 0.6rem;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
        .simple-hero {
            padding: 40px 0;
        }
        
        .simple-hero h1 {
            font-size: 1.8rem;
        }
        
        .card-img-container {
            height: 160px;
        }
        
        .card-body {
            padding: 1rem;
        }
        
        .badge {
            font-size: 0.6rem;
            padding: 0.2rem 0.4rem;
        }
        
        .filter-sidebar {
            padding: 1rem;
        }
        
        .price-inputs {
            flex-direction: column;
            gap: 0.25rem;
        }
        
        .price-separator {
            display: none;
        }
        
        .cart-btn-full {
            padding: 0.6rem;
            font-size: 0.9rem;
        }
    }
</style>
{% endblock %}